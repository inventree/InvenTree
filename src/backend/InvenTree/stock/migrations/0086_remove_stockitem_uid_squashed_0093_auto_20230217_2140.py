# Generated by Django 4.2.23 on 2025-07-13 12:15

import InvenTree.fields
from django.db import migrations, models
import djmoney.models.validators
import stock.models


class Migration(migrations.Migration):

    replaces = [
        ("stock", "0086_remove_stockitem_uid"),
        ("stock", "0087_auto_20220912_2341"),
        ("stock", "0088_remove_stockitem_infinite"),
        ("stock", "0089_alter_stockitem_purchase_price"),
        ("stock", "0090_stocklocation_structural"),
        ("stock", "0091_alter_stockitem_delete_on_deplete"),
        ("stock", "0092_alter_stockitem_updated"),
        ("stock", "0093_auto_20230217_2140"),
    ]

    dependencies = [
        ("stock", "0085_auto_20220903_0225"),
    ]

    operations = [
        migrations.RemoveField(
            model_name="stockitem",
            name="uid",
        ),
        migrations.AddField(
            model_name="stocklocation",
            name="barcode_data",
            field=models.CharField(
                blank=True,
                help_text="Third party barcode data",
                max_length=500,
                verbose_name="Barcode Data",
            ),
        ),
        migrations.AddField(
            model_name="stocklocation",
            name="barcode_hash",
            field=models.CharField(
                blank=True,
                help_text="Unique hash of barcode data",
                max_length=128,
                verbose_name="Barcode Hash",
            ),
        ),
        migrations.RemoveField(
            model_name="stockitem",
            name="infinite",
        ),
        migrations.AlterField(
            model_name="stockitem",
            name="purchase_price",
            field=InvenTree.fields.InvenTreeModelMoneyField(
                blank=True,
                currency_choices=[],
                decimal_places=6,
                default_currency="",
                help_text="Single unit purchase price at time of purchase",
                max_digits=19,
                null=True,
                validators=[djmoney.models.validators.MinMoneyValidator(0)],
                verbose_name="Purchase Price",
            ),
        ),
        migrations.AddField(
            model_name="stocklocation",
            name="structural",
            field=models.BooleanField(
                default=False,
                help_text="Stock items may not be directly located into a structural stock locations, but may be located to child locations.",
                verbose_name="Structural",
            ),
        ),
        migrations.AlterField(
            model_name="stockitem",
            name="delete_on_deplete",
            field=models.BooleanField(
                default=stock.models.default_delete_on_deplete,
                help_text="Delete this Stock Item when stock is depleted",
                verbose_name="Delete on deplete",
            ),
        ),
        migrations.AlterField(
            model_name="stockitem",
            name="updated",
            field=models.DateTimeField(
                auto_now=True,
                help_text="Timestamp of last update",
                null=True,
                verbose_name="Updated",
            ),
        ),
        migrations.AlterModelOptions(
            name="stocklocation",
            options={
                "verbose_name": "Stock Location",
                "verbose_name_plural": "Stock Locations",
            },
        ),
    ]

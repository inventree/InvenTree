import{r as m,i as t,j as e,eT as b,I as x,eU as _,aj as h,bd as j,cI as k,S as T}from"./vendor-C9xuDR-n.js";import{A}from"./ActionButton-C7Sx5Rz-.js";import{e as n,A as r}from"./index-CjCZvRJF.js";import{P as I}from"./PageDetail-ZmtWHP2V.js";import{P}from"./PanelGroup-D1MKiC-R.js";import{u as g}from"./DesktopAppView-EZRUo9CM.js";import{I as C,u}from"./InvenTreeTable-8QCr5F7I.js";import"./UseForm-D7tPXWOh.js";import"./ThemeContext-s5vo4YrD.js";import"./PageTitle-YAn1LyQO.js";import"./PluginSource-BoO63rMJ.js";import"./RemoteComponent-CPOvzd9S.js";import"./index-DNosoft8.js";import"./QRCode-P5tCv9DA.js";import"./browser-CreoRYY6.js";function d({params:a,tableState:i,tableActions:o,actions:c}){const p=m.useMemo(()=>[{accessor:"age_human",title:t._({id:"RCU5PY"}),sortable:!0,ordering:"creation"},{accessor:"category",title:t._({id:"K7tIrx"}),sortable:!0},{accessor:"name",title:t._({id:"5+87Pq"})},{accessor:"message",title:t._({id:"xDAtGP"})}],[]);return e.jsx(C,{url:n(r.notifications_list),tableState:i,columns:p,props:{rowActions:c,tableActions:o,enableSelection:!0,enableBulkDelete:!0,params:a}})}function w(){const a=g(),i=u("unreadnotifications"),o=u("readnotifications"),c=m.useCallback(()=>{a.get(n(r.notifications_readall),{params:{read:!1}}).then(s=>{i.refreshTable(),o.refreshTable()}).catch(s=>{})},[]),p=m.useMemo(()=>[{name:"unread",label:t._({id:"iDNBZe"}),icon:e.jsx(_,{size:"18"}),content:e.jsx(d,{params:{read:!1},tableState:i,actions:s=>[{title:t._({id:"+s1J8k"}),color:"green",icon:e.jsx(x,{}),onClick:()=>{const l=n(r.notifications_list,s.pk);a.patch(l,{read:!0}).then(f=>{i.refreshTable()})}}],tableActions:[e.jsx(A,{icon:e.jsx(b,{}),tooltip:t._({id:"onllUU"}),onClick:c})]})},{name:"history",label:t._({id:"0caMy7"}),icon:e.jsx(k,{size:"18"}),content:e.jsx(d,{params:{read:!0},tableState:o,actions:s=>[{title:t._({id:"5GPcf9"}),icon:e.jsx(h,{}),onClick:()=>{const l=n(r.notifications_list,s.pk);a.patch(l,{read:!1}).then(f=>{o.refreshTable()})}},{title:t._({id:"cnGeoo"}),color:"red",icon:e.jsx(j,{}),onClick:()=>{a.delete(n(r.notifications_list,s.pk)).then(l=>{o.refreshTable()})}}],tableActions:[]})}],[i,o]);return e.jsxs(T,{children:[e.jsx(I,{title:t._({id:"iDNBZe"})}),e.jsx(P,{pageKey:"notifications",panels:p})]})}export{w as default};
//# sourceMappingURL=Notifications-BwnjnCWP.js.map

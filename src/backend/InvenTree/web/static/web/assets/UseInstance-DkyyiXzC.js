import{r as c,bQ as b}from"./vendor-C9xuDR-n.js";import{e as q}from"./index-CjCZvRJF.js";import{u as v}from"./DesktopAppView-EZRUo9CM.js";function E({endpoint:o,pk:r,params:a={},defaultValue:t={},pathParams:f,disabled:i,hasPrimaryKey:y=!0,refetchOnMount:m=!0,refetchOnWindowFocus:g=!1,updateInterval:I}){const S=v(),[l,n]=c.useState(t),e=b({enabled:!i,queryKey:["instance",o,r,JSON.stringify(a),JSON.stringify(f),i],retry:(u,s)=>{var h;return((h=s.response)==null?void 0:h.status)==404?!1:u<3},queryFn:async()=>{if(i)return t;if(y&&(r==null||r==null||r.toString().length==0||r=="-1"))return n(t),t;const u=q(o,r,f);return S.get(u,{timeout:1e4,params:a}).then(s=>{switch(s.status){case 200:return n(s.data),s.data;default:return n(t),t}})},refetchOnMount:m,refetchOnWindowFocus:g??!1,refetchInterval:I}),F=c.useMemo(()=>e.isFetched&&e.isSuccess&&!e.isError,[e]),O=c.useCallback(()=>{e.refetch()},[]),Q=c.useCallback(()=>e.refetch(),[]);return{instance:l,setInstance:n,refreshInstance:O,refreshInstancePromise:Q,instanceQuery:e,isLoaded:F}}export{E as u};
//# sourceMappingURL=UseInstance-DkyyiXzC.js.map

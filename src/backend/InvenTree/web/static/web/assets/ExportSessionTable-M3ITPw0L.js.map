{"version":3,"file":"ExportSessionTable-M3ITPw0L.js","sources":["../../../../../../frontend/src/tables/settings/ExportSessionTable.tsx"],"sourcesContent":["import { type RowAction, RowDeleteAction } from '@lib/components/RowActions';\nimport { ApiEndpoints } from '@lib/enums/ApiEndpoints';\nimport { apiUrl } from '@lib/functions/Api';\nimport type { TableFilter } from '@lib/types/Filters';\nimport type { TableColumn } from '@lib/types/Tables';\nimport { t } from '@lingui/core/macro';\nimport { useCallback, useMemo, useState } from 'react';\nimport { AttachmentLink } from '../../components/items/AttachmentLink';\nimport { RenderUser } from '../../components/render/User';\nimport { useDeleteApiFormModal } from '../../hooks/UseForm';\nimport { useTable } from '../../hooks/UseTable';\nimport { DateColumn } from '../ColumnRenderers';\nimport { UserFilter } from '../Filter';\nimport { InvenTreeTable } from '../InvenTreeTable';\n\nexport default function ExportSessionTable() {\n  const table = useTable('exportsession');\n\n  const columns: TableColumn[] = useMemo(() => {\n    return [\n      {\n        accessor: 'output',\n        sortable: false,\n        render: (record: any) => <AttachmentLink attachment={record.output} />\n      },\n      {\n        accessor: 'output_type',\n        title: t`Output Type`,\n        sortable: true\n      },\n      {\n        accessor: 'plugin',\n        title: t`Plugin`,\n        sortable: true\n      },\n      DateColumn({\n        accessor: 'created',\n        title: t`Exported On`,\n        sortable: true\n      }),\n      {\n        accessor: 'user',\n        sortable: true,\n        title: t`User`,\n        render: (record: any) => RenderUser({ instance: record.user_detail })\n      }\n    ];\n  }, []);\n\n  const tableFilters: TableFilter[] = useMemo(() => {\n    return [UserFilter({})];\n  }, []);\n\n  const [selectedRow, setSeletectedRow] = useState<any>({});\n\n  const deleteRow = useDeleteApiFormModal({\n    url: ApiEndpoints.data_output,\n    pk: selectedRow.pk,\n    title: t`Delete Output`,\n    onFormSuccess: () => table.refreshTable()\n  });\n\n  const rowActions = useCallback((record: any): RowAction[] => {\n    return [\n      RowDeleteAction({\n        onClick: () => {\n          setSeletectedRow(record);\n          deleteRow.open();\n        }\n      })\n    ];\n  }, []);\n\n  return (\n    <>\n      {deleteRow.modal}\n      <InvenTreeTable\n        url={apiUrl(ApiEndpoints.data_output)}\n        tableState={table}\n        columns={columns}\n        props={{\n          enableBulkDelete: true,\n          enableSelection: true,\n          enableSearch: false,\n          rowActions: rowActions,\n          tableFilters: tableFilters\n        }}\n      />\n    </>\n  );\n}\n"],"names":["ExportSessionTable","table","useTable","columns","useMemo","accessor","sortable","render","record","AttachmentLink","output","title","_i18n","_","id","DateColumn","RenderUser","instance","user_detail","tableFilters","UserFilter","selectedRow","setSeletectedRow","useState","deleteRow","useDeleteApiFormModal","url","ApiEndpoints","data_output","pk","onFormSuccess","refreshTable","rowActions","useCallback","RowDeleteAction","onClick","open","jsxs","Fragment","modal","jsx","InvenTreeTable","apiUrl","enableBulkDelete","enableSelection","enableSearch"],"mappings":"gkBAeA,SAAwBA,GAAqB,CAC3C,MAAMC,EAAQC,EAAS,eAAe,EAEhCC,EAAyBC,EAAAA,QAAQ,IAC9B,CACL,CACEC,SAAU,SACVC,SAAU,GACVC,OAASC,SAAiBC,EAAA,CAAe,WAAYD,EAAOE,MAAAA,CAAO,CAAA,EAErE,CACEL,SAAU,cACVM,MAAKC,EAAAC,EAAE,CAAAC,GAAA,QAAA,CAAa,EACpBR,SAAU,EAAA,EAEZ,CACED,SAAU,SACVM,MAAKC,EAAAC,EAAE,CAAAC,GAAA,QAAA,CAAQ,EACfR,SAAU,EAAA,EAEZS,EAAW,CACTV,SAAU,UACVM,MAAKC,EAAAC,EAAE,CAAAC,GAAA,QAAA,CAAa,EACpBR,SAAU,EAAA,CACX,EACD,CACED,SAAU,OACVC,SAAU,GACVK,MAAKC,EAAAC,EAAE,CAAAC,GAAA,QAAA,CAAM,EACbP,OAASC,GAAgBQ,EAAW,CAAEC,SAAUT,EAAOU,WAAAA,CAAa,CAAA,CACrE,EAEF,CAAA,CAAE,EAECC,EAA8Bf,EAAAA,QAAQ,IACnC,CAACgB,EAAW,CAAA,CAAE,CAAC,EACrB,CAAA,CAAE,EAEC,CAACC,EAAaC,CAAgB,EAAIC,EAAAA,SAAc,CAAA,CAAE,EAElDC,EAAYC,EAAsB,CACtCC,IAAKC,EAAaC,YAClBC,GAAIR,EAAYQ,GAChBlB,MAAKC,EAAAC,EAAE,CAAAC,GAAA,QAAA,CAAe,EACtBgB,cAAeA,IAAM7B,EAAM8B,aAAAA,CAAa,CACzC,EAEKC,EAAaC,cAAazB,GACvB,CACL0B,EAAgB,CACdC,QAASA,IAAM,CACbb,EAAiBd,CAAM,EACvBgB,EAAUY,KAAAA,CACZ,CAAA,CACD,CAAC,EAEH,CAAA,CAAE,EAEL,OACEC,EAAAA,KAAAC,WAAA,CACGd,SAAAA,CAAAA,EAAUe,MACXC,EAAAA,IAACC,EAAA,CACC,IAAKC,EAAOf,EAAaC,WAAW,EACpC,WAAY3B,EACZ,QAAAE,EACA,MAAO,CACLwC,iBAAkB,GAClBC,gBAAiB,GACjBC,aAAc,GACdb,WAAAA,EACAb,aAAAA,CAAAA,CACF,CAAE,CAAA,EAEN,CAEJ"}

import{r as s,i as e,j as t}from"./vendor-C9xuDR-n.js";import{b as R,u as k,A as w}from"./UseForm-D7tPXWOh.js";import{u as x,R as F,I as T}from"./InvenTreeTable-8QCr5F7I.js";import{b as j,m as p,A as i,U as n,e as M,n as S}from"./index-CjCZvRJF.js";import{c as m}from"./CompanyForms-CqrdG8Gl.js";import{D as g,B as v,C as D}from"./ColumnRenderers-Bk0OcEIT.js";import{a as G}from"./ThemeContext-s5vo4YrD.js";function O({params:r,path:u}){const l=x("company"),b=G(),o=j(),_=s.useMemo(()=>[{accessor:"name",title:e._({id:"7i8j3G"}),sortable:!0,switchable:!1,render:a=>t.jsx(D,{company:a})},g({}),v({accessor:"active",title:e._({id:"F6pfE9"}),sortable:!0,switchable:!0}),{accessor:"website",sortable:!1}],[]),c=R({url:i.company_list,title:e._({id:"5blzdE"}),fields:m(),initialData:r,follow:!0,modelType:p.company}),[y,f]=s.useState(0),d=k({url:i.company_list,pk:y,title:e._({id:"HoG6cl"}),fields:m(),onFormSuccess:a=>l.updateRecord(a)}),C=s.useMemo(()=>[{name:"active",label:e._({id:"F6pfE9"}),description:e._({id:"KbHNaM"})},{name:"is_supplier",label:e._({id:"PYTEl0"}),description:e._({id:"ZFG/Lo"})},{name:"is_manufacturer",label:e._({id:"+m9/3S"}),description:e._({id:"G/eOzG"})},{name:"is_customer",label:e._({id:"876pfE"}),description:e._({id:"7h6Dth"})}],[]),h=s.useMemo(()=>{const a=o.hasAddRole(n.purchase_order)||o.hasAddRole(n.sales_order);return[t.jsx(w,{tooltip:e._({id:"5blzdE"}),onClick:()=>c.open(),hidden:!a},"add-company")]},[o]),A=s.useCallback(a=>[F({hidden:!o.hasChangeRole(n.purchase_order)&&!o.hasChangeRole(n.sales_order),onClick:()=>{f(a.pk),d.open()}})],[o]);return t.jsxs(t.Fragment,{children:[c.modal,d.modal,t.jsx(T,{url:M(i.company_list),tableState:l,columns:_,props:{params:{...r},onRowClick:(a,U,E)=>{a.pk&&S(`/${u??"company"}/${a.pk}`,b,E)},modelType:p.company,tableFilters:C,tableActions:h,enableDownload:!0,enableSelection:!0,enableReports:!0,rowActions:A}})]})}export{O as C};
//# sourceMappingURL=CompanyTable-CA15lzFk.js.map

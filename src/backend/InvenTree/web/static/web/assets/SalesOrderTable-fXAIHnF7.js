import{r as o,i as e,j as r}from"./vendor-C9xuDR-n.js";import{b as f,A as C}from"./UseForm-D7tPXWOh.js";import{b as F,m as a,A as m,U as h,e as x}from"./index-CjCZvRJF.js";import{u as re}from"./ReturnOrderForms-Bu0gv7Wm.js";import{u as T,b as j,c as D,d as V,A as g,M as y,e as M,C as S,f as A,T as R,g as w,S as O,h as k,i as B,j as E,H as P,k as U,l as K,m as v,n as J,o as X,I as q}from"./InvenTreeTable-8QCr5F7I.js";import{R as W,D as Z,a as z,S as H,b as L,T as N,c as Q,d as G,e as Y,f as $,g as se,h as I,j as l,k as ee,C as te,l as ae}from"./ColumnRenderers-Bk0OcEIT.js";import{P as le}from"./index-DNosoft8.js";import{u as oe}from"./SalesOrderForms-0W8feZF6.js";function be({partId:s,customerId:i}){const c=T(s?"returnorders-part":"returnorders-index"),n=F(),_=o.useMemo(()=>{const t=[j({model:a.returnorder}),D(),V(),g(),y(),M(),S(),A(),R(),w(),O(),k(),{name:"has_target_date",type:"boolean",label:e._({id:"egtJvp"}),description:e._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:e._({id:"7Cajbj"}),description:e._({id:"dklbxT"})},B(),E(),P(),U(),K(),v(),J()];return s&&t.push(X()),t},[s]),p=o.useMemo(()=>[W({}),{accessor:"customer__name",title:e._({id:"876pfE"}),sortable:!0,render:t=>r.jsx(te,{company:t.customer_detail})},{accessor:"customer_reference"},Z({}),z({}),H({model:a.returnorder}),L({defaultVisible:!1}),N({defaultVisible:!1}),Q({defaultVisible:!1}),G({defaultVisible:!1}),Y({defaultVisible:!1}),$({}),se({accessor:"complete_date"}),I({}),l({accessor:"total_price",title:e._({id:"KyZVKD"})}),l({accessor:"subtotal",title:e._({id:"X2rrlw"})}),l({accessor:"tax_amount",title:e._({id:"hwTkXl"})}),l({accessor:"total_with_tax",title:e._({id:"MqedVC"})}),ee({accessor:"tax_rate",title:e._({id:"EsKQ1d"}),sortable:!0})],[]),d=re({}),u=f({url:m.return_order_list,title:e._({id:"mpNlR/"}),fields:d,initialData:{customer:i},follow:!0,modelType:a.returnorder}),b=o.useMemo(()=>[r.jsx(C,{tooltip:e._({id:"mpNlR/"}),onClick:()=>u.open(),hidden:!n.hasAddRole(h.return_order)},"add-return-order")],[n]);return r.jsxs(r.Fragment,{children:[u.modal,r.jsx(q,{url:x(m.return_order_list),tableState:c,columns:p,props:{params:{part:s,customer:i,customer_detail:!0},tableFilters:_,tableActions:b,modelType:a.returnorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}function fe({partId:s,customerId:i}){const c=T(s?"salesorder-part":"salesorder-index"),n=F(),_=o.useMemo(()=>{const t=[j({model:a.salesorder}),D(),V(),g(),y(),M(),S(),A(),R(),w(),O(),k(),{name:"has_target_date",type:"boolean",label:e._({id:"egtJvp"}),description:e._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:e._({id:"7Cajbj"}),description:e._({id:"dklbxT"})},B(),E(),P(),U(),K(),v(),J()];return s&&t.push(X()),t},[s]),p=oe({}),d=f({url:m.sales_order_list,title:e._({id:"VzdnWM"}),fields:p,initialData:{customer:i},follow:!0,modelType:a.salesorder}),u=o.useMemo(()=>[r.jsx(C,{tooltip:e._({id:"VzdnWM"}),onClick:()=>d.open(),hidden:!n.hasAddRole(h.sales_order)},"add-sales-order")],[n]),b=o.useMemo(()=>[W({}),{accessor:"customer__name",title:e._({id:"876pfE"}),sortable:!0,render:t=>r.jsx(te,{company:t.customer_detail})},{accessor:"customer_reference",title:e._({id:"ZVUe1A"})},Z({}),z({}),{accessor:"shipments_count",title:e._({id:"aljM0q"}),minWidth:125,render:t=>r.jsx(le,{progressLabel:!0,value:t.completed_shipments_count,maximum:t.shipments_count})},H({model:a.salesorder}),L({defaultVisible:!1}),N({defaultVisible:!1}),Q({defaultVisible:!1}),G({defaultVisible:!1}),Y({defaultVisible:!1}),$({}),ae({}),I({}),l({accessor:"total_price",title:e._({id:"KyZVKD"})}),l({accessor:"subtotal",title:e._({id:"X2rrlw"})}),l({accessor:"tax_amount",title:e._({id:"hwTkXl"})}),l({accessor:"total_with_tax",title:e._({id:"MqedVC"})}),ee({accessor:"tax_rate",title:e._({id:"EsKQ1d"}),sortable:!0})],[]);return r.jsxs(r.Fragment,{children:[d.modal,r.jsx(q,{url:x(m.sales_order_list),tableState:c,columns:b,props:{params:{customer_detail:!0,part:s,customer:i},tableFilters:_,tableActions:u,modelType:a.salesorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}export{be as R,fe as S};
//# sourceMappingURL=SalesOrderTable-fXAIHnF7.js.map

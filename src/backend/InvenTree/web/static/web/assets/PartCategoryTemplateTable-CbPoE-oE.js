import{r as t,i as s,j as a,G as w,B as f}from"./vendor-C9xuDR-n.js";import{b as T,u as k,a as y,A as j}from"./UseForm-D7tPXWOh.js";import{u as M,R as C,a as R,I as F}from"./InvenTreeTable-8QCr5F7I.js";import{b as S,A as i,U as p,e as v}from"./index-CjCZvRJF.js";import"./DesktopAppView-EZRUo9CM.js";import"./ThemeContext-s5vo4YrD.js";import"./ActionButton-C7Sx5Rz-.js";import"./index-DNosoft8.js";import"./QRCode-P5tCv9DA.js";import"./browser-CreoRYY6.js";function P(){const r=M("part-category-parameter-templates"),l=S(),o=t.useMemo(()=>({category:{},parameter_template:{},default_value:{}}),[]),[m,u]=t.useState(0),d=T({url:i.category_parameter_list,title:s._({id:"+BLSbg"}),fields:t.useMemo(()=>({...o}),[o]),table:r}),c=k({url:i.category_parameter_list,pk:m,title:s._({id:"kF/O0U"}),fields:t.useMemo(()=>({...o}),[o]),table:r}),_=y({url:i.category_parameter_list,pk:m,title:s._({id:"O5duuA"}),table:r}),g=t.useMemo(()=>[],[]),h=t.useMemo(()=>[{accessor:"category_detail.name",title:s._({id:"K7tIrx"}),sortable:!0,switchable:!1},{accessor:"category_detail.pathstring"},{accessor:"parameter_template_detail.name",title:s._({id:"+nwoLk"}),sortable:!0,switchable:!1},{accessor:"default_value",sortable:!0,switchable:!1,render:e=>{var b;if(!(e!=null&&e.default_value))return"-";let n="";return(b=e==null?void 0:e.parameter_template_detail)!=null&&b.units&&(n=`[${e.parameter_template_detail.units}]`),a.jsxs(w,{justify:"space-between",grow:!0,children:[a.jsx(f,{children:e.default_value}),n&&a.jsx(f,{size:"xs",children:n})]})}}],[]),x=t.useCallback(e=>[C({hidden:!l.hasChangeRole(p.part),onClick:()=>{u(e.pk),c.open()}}),R({hidden:!l.hasDeleteRole(p.part),onClick:()=>{u(e.pk),_.open()}})],[l]),A=t.useMemo(()=>[a.jsx(j,{tooltip:s._({id:"+BLSbg"}),onClick:()=>d.open(),hidden:!l.hasAddRole(p.part)},"add")],[l]);return a.jsxs(a.Fragment,{children:[d.modal,c.modal,_.modal,a.jsx(F,{url:v(i.category_parameter_list),tableState:r,columns:h,props:{rowActions:x,tableFilters:g,tableActions:A,enableDownload:!0}})]})}export{P as default};
//# sourceMappingURL=PartCategoryTemplateTable-CbPoE-oE.js.map

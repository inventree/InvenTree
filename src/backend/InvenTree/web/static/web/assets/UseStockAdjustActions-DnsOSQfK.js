import{r as c,i as t,j as s,bW as F,el as O,aC as ee,aG as te,bb as ie,eh as se,d_ as ne,ei as ae,bQ as le,cv as H,bS as A,S as re,cH as M,B as P,G as oe,em as ue,cz as de}from"./vendor-C9xuDR-n.js";import{f as V,e as E,A as b,m as q,h as ce,a as z,b as fe,U as D}from"./index-CjCZvRJF.js";import{p as _e,z as pe}from"./InvenTreeTable-8QCr5F7I.js";import{A as G}from"./ActionButton-C7Sx5Rz-.js";import{v as me,d as he,b as ge,a as xe,T as W,w as ke,h as je,S as be,t as $}from"./UseForm-D7tPXWOh.js";import{R as ye}from"./RemoveRowButton-Bs8592YI.js";import{a as Se,I as j,r as ve,S as Ce}from"./ThemeContext-s5vo4YrD.js";import{u as Fe,a as Z}from"./UseGenerator-DBW5gkUz.js";function tt({partId:e,stockItem:n,modalId:a,create:i=!1}){const r=V(),[o,l]=c.useState({}),[f,h]=c.useState(null),[g,x]=c.useState(null),_=Fe({modalId:a,initialQuery:{part:e}}),p=Z({modalId:a,initialQuery:{part:e}});return c.useMemo(()=>{const m={part:{value:e||(o==null?void 0:o.pk),disabled:!i,filters:{virtual:!1,active:i?!0:void 0},onValueChange:(d,k)=>{l(k),p.update({part:d}),_.update({part:d}),h(null);const u=(k==null?void 0:k.default_expiry)??0;u&&u>0&&x(he().add(u,"days").format("YYYY-MM-DD"))}},supplier_part:{hidden:(o==null?void 0:o.purchaseable)==!1,value:f,onValueChange:d=>{h(d)},filters:{part_detail:!0,supplier_detail:!0,part:e},adjustFilters:d=>(d.data.part&&(d.filters.part=d.data.part),d.filters)},use_pack_size:{hidden:!i,description:t._({id:"qyS7x9"})},location:{hidden:!i,onValueChange:d=>{_.update({location:d})},filters:{structural:!1}},quantity:{hidden:!i,description:t._({id:"LWFE8j"}),onValueChange:d=>{_.update({quantity:d})}},serial_numbers:{field_type:"string",label:t._({id:"VzQT2x"}),disabled:(o==null?void 0:o.trackable)==!1,description:t._({id:"0dR85g"}),required:!1,hidden:!i,placeholder:p.result&&`${t._({id:"TVYdHj"})}: ${p.result}`},serial:{placeholder:p.result&&`${t._({id:"TVYdHj"})}: ${p.result}`,hidden:i||o.trackable==!1||(n==null?void 0:n.quantity)!=null&&(n==null?void 0:n.quantity)!=1},batch:{placeholder:_.result&&`${t._({id:"iAY2dt"})}: ${_.result}`},status_custom_key:{label:t._({id:"Y3/0dR"})},expiry_date:{icon:s.jsx(ae,{}),hidden:!r.isSet("STOCK_ENABLE_EXPIRY"),value:g,onValueChange:d=>{x(d)}},purchase_price:{icon:s.jsx(ne,{})},purchase_price_currency:{icon:s.jsx(se,{})},packaging:{icon:s.jsx(ie,{})},link:{icon:s.jsx(te,{})},owner:{icon:s.jsx(ee,{})},delete_on_deplete:{}};return r.isSet("STOCK_ENABLE_EXPIRY")||delete m.expiry_date,m},[n,g,o,e,r,f,p.result,_.result,i])}function it(){return c.useMemo(()=>({location:{filters:{structural:!1}},note:{}}),[])}function st({stockItem:e}){const n=V(),[a,i]=c.useState(null);return c.useEffect(()=>{i(null)},[e]),c.useMemo(()=>({part:{field_type:"related field",required:!0,exclude:!0,label:t._({id:"vgP+9p"}),description:t._({id:"B+pzHp"}),model:q.part,api_url:E(b.part_list),onValueChange:r=>{i(r)},filters:{trackable:!0,in_bom_for:n.isSet("STOCK_ENFORCE_BOM_INSTALLATION")?e.part:void 0}},stock_item:{disabled:!a,filters:{part_detail:!0,in_stock:!0,available:!0,tracked:!0,part:a||void 0}},quantity:{},note:{}}),[n,a,e])}function nt({partId:e,trackable:n,modalId:a}){const i=Z({modalId:a,isEnabled:()=>n,initialQuery:{part:e}});return c.useMemo(()=>({quantity:{},serial_numbers:{placeholder:i.result&&`${t._({id:"TVYdHj"})}: ${i.result}`},destination:{}}),[i.result])}function Ae({stockItem:e,value:n}){var i,r,o;const{data:a}=ue({queryKey:["location",((i=e.part_detail)==null?void 0:i.default_location)??((r=e.part_detail)==null?void 0:r.category_default_location)],queryFn:async()=>{var f,h;const l=E(b.stock_location_list,((f=e.part_detail)==null?void 0:f.default_location)??((h=e.part_detail)==null?void 0:h.category_default_location));return z.get(l).then(g=>{switch(g.status){case 200:return g.data;default:return null}}).catch(()=>null)}});return s.jsxs(M,{gap:"sm",justify:"space-evenly",align:"center",children:[s.jsxs(M,{gap:"sm",direction:"column",align:"center",children:[s.jsxs(P,{children:[n," x ",e.part_detail.name]}),s.jsx(W,{src:e.part_detail.thumbnail,size:80,align:"center"})]}),s.jsxs(M,{direction:"column",gap:"sm",align:"center",children:[s.jsx(P,{children:((o=e.location_detail)==null?void 0:o.pathstring)??"-"}),s.jsx(j,{icon:"arrow_down"}),s.jsx(c.Suspense,{fallback:s.jsx(de,{width:"150px"}),children:s.jsx(P,{children:a==null?void 0:a.pathstring})})]})]})}function Me(e,n,a){ve.openConfirmModal({title:s.jsx(Ce,{children:t._({id:"AEaskR"})}),children:s.jsx(Ae,{stockItem:e,value:n}),onConfirm:()=>{var i,r,o,l;e.location===((i=e.part_detail)==null?void 0:i.default_location)||e.location===((r=e.part_detail)==null?void 0:r.category_default_location)||z.post(E(b.stock_transfer),{items:[{pk:e.pk,quantity:n,batch:e.batch,status:e.status}],location:((o=e.part_detail)==null?void 0:o.default_location)??((l=e.part_detail)==null?void 0:l.category_default_location)}).then(f=>(a(),f.data)).catch(()=>null)}})}function v({props:e,transfer:n=!1,changeStatus:a=!1,add:i=!1,setMax:r=!1,merge:o=!1,record:l}){var U,J,L,Y,N,Q,B,K,X;const f=c.useMemo(()=>{var y;return((y=_e(q.stockitem)())==null?void 0:y.map(T=>({value:T.value,display_name:T.label})))??[]},[]),[h,g]=c.useState(i?0:((U=e.item)==null?void 0:U.quantity)??0),[x,_]=c.useState(void 0),p=()=>{e.removeFn(e.idx)},m=(y,T,I)=>{setTimeout(()=>e.changeFn(y,T,I),0)},[d,k]=H(!1,{onOpen:()=>{n&&m(e.idx,"packaging",(l==null?void 0:l.packaging)||void 0)},onClose:()=>{n&&m(e.idx,"packaging",void 0)}}),[u,S]=H(!1,{onOpen:()=>{_((l==null?void 0:l.status_custom_key)||(l==null?void 0:l.status)||void 0),e.changeFn(e.idx,"status",(l==null?void 0:l.status)||void 0)},onClose:()=>{_(void 0),m(e.idx,"status",void 0)}}),w=c.useMemo(()=>l?l.serial?`#${l.serial}`:`${l.quantity}`:"-",[l]);return l?s.jsxs(s.Fragment,{children:[s.jsxs(A.Tr,{children:[s.jsx(A.Td,{children:s.jsxs(re,{gap:"xs",children:[s.jsxs(M,{gap:"sm",align:"center",children:[s.jsx(W,{size:40,src:(J=l.part_detail)==null?void 0:J.thumbnail,align:"center"}),s.jsx("div",{children:(L=l.part_detail)==null?void 0:L.name})]}),((N=(Y=e.rowErrors)==null?void 0:Y.pk)==null?void 0:N.message)&&s.jsx(P,{c:"red",size:"xs",children:e.rowErrors.pk.message})]})}),s.jsx(A.Td,{children:s.jsx(ke,{instance:l.location_detail})}),s.jsx(A.Td,{children:l.batch?l.batch:"-"}),s.jsx(A.Td,{children:s.jsxs(oe,{grow:!0,justify:"space-between",wrap:"nowrap",children:[s.jsx(P,{children:w}),s.jsx(je,{status:l.status_custom_key,type:q.stockitem})]})}),!o&&s.jsx(A.Td,{children:s.jsx(be,{fieldName:"quantity",fieldDefinition:{field_type:"number",value:h,onValueChange:y=>{g(y),e.changeFn(e.idx,"quantity",y)}},error:(B=(Q=e.rowErrors)==null?void 0:Q.quantity)==null?void 0:B.message})}),s.jsx(A.Td,{children:s.jsxs(M,{gap:"3px",children:[n&&s.jsx(G,{onClick:()=>Me(l,e.item.quantity,p),icon:s.jsx(j,{icon:"default_location"}),tooltip:t._({id:"b+SPUR"}),tooltipAlignment:"top",disabled:!((K=l.part_detail)!=null&&K.default_location)&&!((X=l.part_detail)!=null&&X.category_default_location)}),a&&s.jsx(G,{size:"sm",icon:s.jsx(j,{icon:"status"}),tooltip:t._({id:"Gt4cm5"}),onClick:()=>S.toggle(),variant:u?"filled":"transparent"}),n&&s.jsx(G,{size:"sm",icon:s.jsx(j,{icon:"packaging"}),tooltip:t._({id:"O7MZ1G"}),onClick:()=>k.toggle(),variant:d?"filled":"transparent"}),s.jsx(ye,{onClick:()=>e.removeFn(e.idx)})]})})]}),a&&s.jsx($,{visible:u,onValueChange:y=>{_(y),e.changeFn(e.idx,"status",y||void 0)},fieldName:"status",fieldDefinition:{field_type:"choice",label:t._({id:"uAQUqI"}),choices:f,value:x},defaultValue:x}),n&&s.jsx($,{visible:n&&d,onValueChange:y=>{e.changeFn(e.idx,"packaging",y||void 0)},fieldName:"packaging",fieldDefinition:{field_type:"string",label:t._({id:"pD/Ew0"})},defaultValue:l.packaging})]}):s.jsx("div",{children:t._({id:"Z3FXyt"})})}function R(e){return e.map(a=>({pk:a.pk,quantity:a.quantity,batch:a.batch||void 0,status:a.status||void 0,packaging:a.packaging||void 0,obj:a}))}function Pe(e){if(!e)return{};const n=Object.fromEntries(e.map(i=>[i.pk,i]));return{items:{field_type:"table",value:R(e),modelRenderer:i=>{const r=n[i.item.pk];return s.jsx(v,{props:i,transfer:!0,changeStatus:!0,setMax:!0,record:r},r.pk)},headers:[{title:t._({id:"vgP+9p"})},{title:t._({id:"wJijgU"})},{title:t._({id:"rsx3xA"})},{title:t._({id:"blbbPS"})},{title:t._({id:"QWdKwH"}),style:{width:"200px"}},{title:t._({id:"7L01XJ"})}]},location:{filters:{structural:!1}},notes:{}}}function Ee(e){if(!e)return{};const n=Object.fromEntries(e.filter(i=>!i.in_stock).map(i=>[i.pk,i]));return{items:{field_type:"table",value:R(e),modelRenderer:i=>{const r=n[i.item.pk];return s.jsx(v,{props:i,record:r,transfer:!0,changeStatus:!0},r.pk)},headers:[{title:t._({id:"vgP+9p"})},{title:t._({id:"wJijgU"})},{title:t._({id:"rsx3xA"})},{title:t._({id:"VbWX2u"})},{title:t._({id:"vUOn9d"}),style:{width:"200px"}},{title:t._({id:"7L01XJ"})}]},location:{filters:{structural:!1}},merge:{},notes:{}}}function Re(e){if(!e)return{};const n=Object.fromEntries(e.map(i=>[i.pk,i]));return{items:{field_type:"table",value:R(e),modelRenderer:i=>{const r=n[i.item.pk];return s.jsx(v,{props:i,setMax:!0,changeStatus:!0,add:!0,record:r},r.pk)},headers:[{title:t._({id:"vgP+9p"})},{title:t._({id:"wJijgU"})},{title:t._({id:"rsx3xA"})},{title:t._({id:"zn38D/"})},{title:t._({id:"t/YqKh"}),style:{width:"200px"}},{title:t._({id:"7L01XJ"})}]},notes:{}}}function Te(e){if(!e)return{};const n=Object.fromEntries(e.map(i=>[i.pk,i]));return{items:{field_type:"table",value:R(e),modelRenderer:i=>{const r=n[i.item.pk];return s.jsx(v,{changeStatus:!0,props:i,add:!0,record:r},r.pk)},headers:[{title:t._({id:"vgP+9p"})},{title:t._({id:"wJijgU"})},{title:t._({id:"rsx3xA"})},{title:t._({id:"zn38D/"})},{title:t._({id:"m16xKo"}),style:{width:"200px"}},{title:t._({id:"7L01XJ"})}]},notes:{}}}function Oe(e){if(!e)return{};const n=Object.fromEntries(e.map(i=>[i.pk,i]));return{items:{field_type:"table",value:R(e),modelRenderer:i=>s.jsx(v,{props:i,changeStatus:!0,record:n[i.item.pk]},i.item.pk),headers:[{title:t._({id:"vgP+9p"})},{title:t._({id:"wJijgU"})},{title:t._({id:"rsx3xA"})},{title:t._({id:"zn38D/"})},{title:t._({id:"wBMjJ2"}),style:{width:"200px"}},{title:t._({id:"7L01XJ"})}]},notes:{}}}function De(e){if(!e)return{};const n=Object.fromEntries(e.map(i=>[i.pk,i]));return{items:{field_type:"table",value:e.map(i=>i.pk),modelRenderer:i=>s.jsx(v,{props:i,merge:!0,record:n[i.item]},i.item),headers:[{title:t._({id:"vgP+9p"})},{title:t._({id:"wJijgU"})},{title:t._({id:"rsx3xA"})},{title:t._({id:"zn38D/"})},{title:"",style:{width:"50px"}}]},status:{},note:{}}}function qe(e){var i,r;if(!e)return{};const n=Object.fromEntries(e.map(o=>[o.pk,o]));return{items:{field_type:"table",value:e.map(o=>({item:o.pk,obj:o})),modelRenderer:o=>s.jsx(v,{props:o,merge:!0,changeStatus:!0,record:n[o.item.item]},o.item.item),headers:[{title:t._({id:"vgP+9p"})},{title:t._({id:"wJijgU"})},{title:t._({id:"rsx3xA"})},{title:t._({id:"zn38D/"})},{title:t._({id:"7L01XJ"})}]},location:{default:(r=(i=e[0])==null?void 0:i.part_detail)==null?void 0:r.default_location,filters:{structural:!1}},notes:{},allow_mismatched_suppliers:{},allow_mismatched_status:{}}}function we(e){if(!e)return{};const n=Object.fromEntries(e.map(i=>[i.pk,i]));return{items:{field_type:"table",value:e.map(i=>({item:i.pk,obj:i})),modelRenderer:i=>s.jsx(v,{props:i,merge:!0,record:n[i.item.item]},i.item.item),headers:[{title:t._({id:"vgP+9p"})},{title:t._({id:"wJijgU"})},{title:t._({id:"rsx3xA"})},{title:t._({id:"zn38D/"})},{title:"",style:{width:"50px"}}]},customer:{filters:{is_customer:!0}},notes:{}}}function Ge(e){if(!e)return{};const n=Object.fromEntries(e.map(i=>[i.pk,i]));return{items:{field_type:"table",value:e.map(i=>i.pk),modelRenderer:i=>{const r=n[i.item];return s.jsx(v,{props:i,merge:!0,record:r},r.pk)},headers:[{title:t._({id:"vgP+9p"})},{title:t._({id:"wJijgU"})},{title:t._({id:"rsx3xA"})},{title:t._({id:"zn38D/"})},{title:"",style:{width:"50px"}}]}}}function C({items:e,pk:n,model:a,refresh:i,fieldGenerator:r,endpoint:o,filters:l,title:f,preFormContent:h,successMessage:g,modalFunc:x=ge}){const _={part_detail:!0,location_detail:!0,cascade:!1},p=c.useMemo(()=>{const S={..._,...l??{}};return S[a]=n===void 0&&a==="location"?"null":n,S},[_,l,a,n]),[m,d]=c.useState(!1),{data:k}=le({queryKey:["stockitems",m,a,n,e,p],queryFn:async()=>{if(e)return Array.isArray(e)?e:[e];if(!n||!m)return[];const S=E(b.stock_item_list);return z.get(S,{params:p}).then(w=>w.data??[])}}),u=c.useMemo(()=>r(k),[k]);return x({url:o,fields:u,preFormContent:h,title:f,size:"80%",successMessage:g,onFormSuccess:()=>i(),onClose:()=>d(!1),onOpen:()=>d(!0)})}function Ve(e){return C({...e,fieldGenerator:Te,endpoint:b.stock_add,title:t._({id:"smUxso"}),successMessage:t._({id:"2kGS2K"}),preFormContent:s.jsx(F,{color:"blue",children:t._({id:"xJKqL/"})})})}function ze(e){return C({...e,fieldGenerator:Re,endpoint:b.stock_remove,title:t._({id:"dxvf6V"}),successMessage:t._({id:"uMaw0F"}),preFormContent:s.jsx(F,{color:"blue",children:t._({id:"gfgUSo"})})})}function Ue(e){return C({...e,fieldGenerator:Pe,endpoint:b.stock_transfer,title:t._({id:"9efe+k"}),successMessage:t._({id:"02r6MH"}),preFormContent:s.jsx(F,{color:"blue",children:t._({id:"fbH5mV"})})})}function Je(e){return C({...e,fieldGenerator:Ee,endpoint:b.stock_return,title:t._({id:"YG4Cph"}),successMessage:t._({id:"dgrKO8"}),preFormContent:s.jsx(F,{color:"blue",children:t._({id:"mDdOYy"})})})}function Le(e){return C({...e,fieldGenerator:Oe,endpoint:b.stock_count,title:t._({id:"n/p2QJ"}),successMessage:t._({id:"iEFfQA"}),preFormContent:s.jsx(F,{color:"blue",children:t._({id:"72WIn2"})})})}function Ye(e){return C({...e,fieldGenerator:De,endpoint:b.stock_change_status,title:t._({id:"Y+vtBl"}),successMessage:t._({id:"dbA8fL"}),preFormContent:s.jsx(F,{color:"blue",children:t._({id:"o3Pgji"})})})}function Ne(e){return C({...e,fieldGenerator:qe,endpoint:b.stock_merge,title:t._({id:"z5kN6j"}),successMessage:t._({id:"BSKV/s"}),preFormContent:s.jsx(F,{title:t._({id:"jk/4VP"}),color:"yellow",children:s.jsxs(O,{children:[s.jsx(O.Item,{children:t._({id:"XVhOQi"})}),s.jsx(O.Item,{children:t._({id:"Q4eR7g"})}),s.jsx(O.Item,{children:t._({id:"8lj8eJ"})})]})})})}function Qe(e){const n=c.useMemo(()=>{var a;return(a=e.items)==null?void 0:a.filter(i=>{var r;return(r=i==null?void 0:i.part_detail)==null?void 0:r.salable})},[e.items]);return C({...e,items:n,fieldGenerator:we,endpoint:b.stock_assign,title:t._({id:"i2FExn"}),successMessage:t._({id:"zTh3Rb"})})}function Be(e){return C({...e,fieldGenerator:Ge,endpoint:b.stock_item_list,modalFunc:xe,title:t._({id:"khKVoc"}),successMessage:t._({id:"9Y/rsA"}),preFormContent:s.jsx(F,{color:"red",children:t._({id:"m8YHzp"})})})}function at(){return{parent:{description:t._({id:"9P2CtI"}),required:!1},name:{},description:{},structural:{},external:{},custom_icon:{field_type:"icon"},location_type:{},tenant:{filters:{is_active:!0},required:!0}}}function lt({partId:e,itemId:n,templateId:a,editing:i=!1,editTemplate:r=!1}){const[o,l]=c.useState([]),[f,h]=c.useState("string"),g=V(),x=c.useMemo(()=>g.isSet("TEST_STATION_DATA"),[g]);return c.useMemo(()=>{const _={stock_item:{value:n,hidden:!0},template:{disabled:!r&&!!a,filters:{include_inherited:!0,part:e},onValueChange:(p,m)=>{if(m!=null&&m.choices){const d=m.choices.split(",");d.length>0?(l(d.map(k=>({label:k.trim(),value:k.trim()}))),h("choice")):(l([]),h("string"))}}},result:{},value:{field_type:f,choices:f==="choice"?o:void 0},attachment:{},notes:{},started_datetime:{hidden:!x},finished_datetime:{hidden:!x},test_station:{hidden:!x}};return i&&delete _.attachment,_},[o,i,r,f,e,n,a,x])}function rt({partId:e}){const n=Se();return me({url:E(b.stock_item_list),fetchInitialData:!1,method:"GET",title:t._({id:"2eYP7g"}),fields:{serial:{},part_tree:{value:e,hidden:!0,field_type:"integer"}},checkClose:(a,i)=>!a||(a==null?void 0:a.length)==0?(i.setError("serial",{message:t._({id:"v9VtFc"})}),!1):a.length>1?(i.setError("serial",{message:t._({id:"LEfZTz"})}),!1):a[0].pk?!0:(i.setError("serial",{message:t._({id:"kKl9OE"})}),!1),onFormSuccess:a=>{a.length==1&&a[0].pk&&n(ce(q.stockitem,a[0].pk))}})}function ot(e){const n=fe(),a=Ve(e.formProps),i=Qe(e.formProps),r=Le(e.formProps),o=Ye(e.formProps),l=Be(e.formProps),f=Ne(e.formProps),h=ze(e.formProps),g=Ue(e.formProps),x=Je(e.formProps),_=c.useMemo(()=>{const u=[];return n.hasChangeRole(D.stock)?(e.add!=!1&&u.push(a),e.assign!=!1&&u.push(i),e.count!=!1&&u.push(r),e.changeStatus!=!1&&u.push(o),e.merge!=!1&&u.push(f),e.remove!=!1&&u.push(h),e.transfer!=!1&&u.push(g),e.return===!0&&u.push(x),e.delete!=!1&&n.hasDeleteRole(D.stock)&&u.push(l),u):[]},[e,n]),p=c.useMemo(()=>{const u=[];return n.hasChangeRole(D.stock)?(e.count!=!1&&u.push({name:t._({id:"n/p2QJ"}),icon:s.jsx(j,{icon:"stocktake",iconProps:{color:"blue"}}),tooltip:t._({id:"umOaPt"}),onClick:()=>{r.open()}}),e.add!=!1&&u.push({name:t._({id:"smUxso"}),icon:s.jsx(j,{icon:"add",iconProps:{color:"green"}}),tooltip:t._({id:"fN+e7a"}),onClick:()=>{a.open()}}),e.remove!=!1&&u.push({name:t._({id:"dxvf6V"}),icon:s.jsx(j,{icon:"remove",iconProps:{color:"red"}}),tooltip:t._({id:"L94prG"}),onClick:()=>{h.open()}}),e.transfer!=!1&&u.push({name:t._({id:"9efe+k"}),icon:s.jsx(j,{icon:"transfer",iconProps:{color:"blue"}}),tooltip:t._({id:"QfXuMk"}),onClick:()=>{g.open()}}),e.merge!=!1&&u.push({name:t._({id:"z5kN6j"}),icon:s.jsx(j,{icon:"merge"}),tooltip:t._({id:"uNiAMR"}),onClick:()=>{f.open()}}),e.changeStatus!=!1&&u.push({name:t._({id:"Gt4cm5"}),icon:s.jsx(j,{icon:"info",iconProps:{color:"blue"}}),tooltip:t._({id:"y1i063"}),onClick:()=>{o.open()}}),e.assign!=!1&&u.push({name:t._({id:"BIBFR3"}),icon:s.jsx(j,{icon:"customer"}),tooltip:t._({id:"B0n8cT"}),onClick:()=>{i.open()}}),e.return===!0&&u.push({name:t._({id:"YG4Cph"}),icon:s.jsx(j,{icon:"return",iconProps:{color:"blue"}}),tooltip:t._({id:"eymR4I"}),onClick:()=>{x.open()}}),e.delete!=!1&&u.push({name:t._({id:"sthCss"}),icon:s.jsx(j,{icon:"delete",iconProps:{color:"red"}}),tooltip:t._({id:"9aD4U5"}),disabled:!n.hasDeleteRole(D.stock),onClick:()=>{l.open()}}),u):[]},[e,n]),m=c.useMemo(()=>{var u,S;return(((S=(u=e.formProps)==null?void 0:u.items)==null?void 0:S.length)??0)>0},[e.formProps.items]),d=c.useMemo(()=>p.length>0,[p]),k=c.useMemo(()=>s.jsx(pe,{tooltip:t._({id:"bbA1t1"}),icon:s.jsx(j,{icon:"stock"}),actions:p,disabled:e.enabled!=!0&&(e.enabled==!1||!m),hidden:!d},"stock-adjust-actions"),[e.enabled,d,m,p]);return{modals:_,menuActions:p,hasActions:d,dropdown:k}}export{ot as a,rt as b,lt as c,st as d,it as e,nt as f,at as s,tt as u};
//# sourceMappingURL=UseStockAdjustActions-DnsOSQfK.js.map
